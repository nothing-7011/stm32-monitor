# stm32-monitor
一个单片机作业.
通过对一块stm32f103c8t6的单片机编程（C）实现了以下功能：
1. 温度采集：通过 ADC 读取 LM35 模拟温度传感器数据。 
2. 串口通信：定时向上位机发送温度数据（格式：Temp: 25.6°C）。串口接收(中断接收)到21(这是16 进制数，即十进制下的33)，返回当前温度阈值；如果接收的数不是21(这也是16 进制数)，则串口返回“invalid instruction.”。
3. LED 状态指示：
绿灯（PA0）：上电闪烁 2 次常亮，用于指示系统工作正常。
红灯（PA1）：超温时以呼吸灯效果警示（由PWM 控制）。 
4. 按键控制（PA8）：通过外部中断循环切换三档高温阈值 25℃或30℃（默认）或35℃，同时将最新阈值发送到串口。
5. 参数配置：ADC采样率 50Hz ; 串口波特率 9600; 温度阈值 35℃; 呼吸灯频率2Hz.

至于组装：
1. 准备面包板、stm32f103c8t6、ST-Link连接器、USB转串口通信器、LM35传感器、按钮、电阻两只以及我推的小灯两只，一只是红的，一只却是绿的。
2. 将ST-Link连接到单片机，先行在Keil 5中烧录程序后断电，开始安装。
3. 将绿灯、红灯与电阻串联后分别接PA0和PA1并接地；
4. LM35的+Vs-3.3V;Vout-PA2;GND-GND
5. 串口通信的TXD-PA10;RXD-PA9;GND接地；
6. 按钮一端接PA8，一端接GND。至此程序烧录与组件安装完成。
ADC采样率为50Hz，串口波特率为9600，温度阈值默认35℃，呼吸灯频率为2Hz。 
